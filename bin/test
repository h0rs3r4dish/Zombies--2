#!/usr/bin/ruby

testname = ARGV.first or 'all'

# Some helper functions
def test(text,&block)
	print text + '...'
	block.call
	puts "OK"
end
def assert(bool,message='')
	raise message if not bool
end

if testname == 'all' then
	files = Dir['test/*']
	files.each { |file|
		puts "---- Running %s" % file
		load file		
		print "\n\n" unless file == files.last
	}
else
	load "test/%s.rb" % testname
end
